<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>firmware: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">firmware
   &#160;<span id="projectnumber">v0</span>
   </div>
   <div id="projectbrief">Protocol compatible with Python package microspeclib</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">firmware Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_doxygen_mainpage"></a> This firmware runs on the Chromation dev-kit:</p>
<p><a href="https://microspectrometer.github.io/dev-kit-2020/">https://microspectrometer.github.io/dev-kit-2020/</a></p>
<p>The dev-kit has two ATmega328 microcontrollers and a spectrometer chip.</p>
<p>This firmware is for the Flash memory in the two microcontrollers. There is no firmware for the spectrometer chip itself, but the chip does have programmable registers which must be written to after power is turned on.</p>
<h2>Spectrometer chip programmable registers</h2>
<p>The spectrometer chip has programmable registers that affect pixel size and voltage gain. The dev-kit writes these registers with Chromation's recommended values when the dev-kit is powered on.</p>
<p>Most applications do not require changing these register values. But in case there is a special use-case where it makes sense to change these values, the Python API in <code>microspec</code> (defined in <a href="https://github.com/microspectrometer/microspec/blob/master/cfg/microspec.json">microspec.json</a>) includes command <code>setSensorConfig()</code> to write to these registers.</p>
<h1>Serial communication and the Python API</h1>
<p>This firmware was created to work with PyPI project <code>microspec</code>.</p>
<div class="fragment"><div class="line">$ pip install microspec</div>
</div><!-- fragment --><p>The Python code in <code>microspec</code> is auto-generated from the serial communication protocol defined in the <a href="https://github.com/microspectrometer/microspec/blob/master/cfg/microspec.json">microspec.json file</a></p>
<p>The firmware was written (manually) to comply with this protocol. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
